plugins {
    id 'java-library'
    id 'maven-publish'
}

subprojects { subproject ->
    apply plugin: 'java-library'
    apply plugin: 'maven-publish'

    group = 'grabsky.configuration'
    version = '0.9.6-pre'

    sourceCompatibility = JavaVersion.VERSION_17
    targetCompatibility = JavaVersion.VERSION_17

    java {
        withSourcesJar()
        withJavadocJar()
    }

    publishing {
        publications {
            maven(MavenPublication) {
                groupId = 'com.github.grabsky'
                artifactId = rootProject.name + '-' + subproject.name
                from components.java
            }
        }
    }

    repositories {
        mavenCentral()
    }

    dependencies {
        // projectlombok/lombok
        compileOnly 'org.projectlombok:lombok:1.18.24'
        annotationProcessor 'org.projectlombok:lombok:1.18.24'
        // JetBrains/java-annotations
        compileOnly("org.jetbrains:annotations:23.0.0")
    }

}
